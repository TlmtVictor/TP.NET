<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
                                    <! Lien vers la feuille de style>
    <link rel="stylesheet" href="~/resources/Index.css" />
    <title>HN - TP LOCAL</title>

    <style>
        table {
            border-collapse: collapse;
            border: none;
            margin-bottom: 30px;
            width: 30%;
        }

            table td, table th {
                border: 3px double black;
                padding: 5px;
            }

        th.hide { /* ajouter un style spécifique à la cellule d'entête pour supprimer la bordure */
            border: none;
        }
    </style>
</head>

<body>
                                    <! entête>
    <header>
        <img src="/resources/GroupeHN.png" class="image" alt="GroupeHN" />
        <h1>Liste des avis</h1>
    </header>

                                    <! création du menu>
    <nav>
        <ul>
            <li><a href="/Home/Index">Acceuil</a></li>
            <li><a href="/Home/Index/Formulaire">Formulaire</a></li>
        </ul>
    </nav>
                                   
    <section>

                                                <! affichage de la liste d'avis >
        @model List<TPLOCAL1.Models.Opinion>
        <table border="1" cellpadding="5" cellspacing="0" style="width:20%; border-collapse: collapse;">
            <tr>
                <th colspan="3" class="hide">Liste des avis</th>
            </tr>
            <tbody>
                <tr>
                    <td>Nom</td>
                    <td>Prénom</td>
                    <td>Avis donnés</td>
                </tr>
                                                <! dire où aller chercher les élèments pour remplir tableau >
                @foreach (TPLOCAL1.Models.Opinion item in Model)
                   {                                                    /* si oui vert sinon rouge */
                    var couleur = item.OpinionGiven == "O" ? "lightgreen" : "lightcoral";
                    var texte = item.OpinionGiven == "O" ? "Oui" : "Non";
                    var style = $"background-color:{couleur}; font-weight:bold;";
                        
                         <tr>
                             <td>@item.LastName</td>
                             <td>@item.FirstName</td>
                             <td style="@style">@texte</td>
                         </tr>
                    }
            </tbody>

        </table>

    </section>

</body>
</html>